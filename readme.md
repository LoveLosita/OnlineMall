# 项目功能

类似⼀个商品网站，可以实现以下功能：

- [x] 用户的注册与登录
- [x] 加密存储用户密码
- [x] 添加商品分类
- [x] 修改用户的信息
- [x] 查询商品
- [x] 查看商品详情
- [x] 查看分类下的商品
- [x] 给商品进行评论（评论的增删查）
- [x] 商品加入购物车
- [x] 获取购物车所有商品
- [x] 搜索购物车中的商品
- [x] 初级下单（向前端返回⼀个订单order）
- [ ] 进阶下单（真正操控商品库存并且处理并发）
- [ ] 终极下单（在进阶下单的基础上模拟微信/支付宝的支付回调等）
- [ ] 嵌套评论
- [ ] 匿名评论
- [ ] 浏览的商品的历史记录
- [x] 商家和管理员的出现（可以自由增删商品）
- [ ] 与商家客服的聊天（使用ChatAI接口实现AI聊天）
- [ ] 单⼀的登录较为不安全，试着加入验证码操作
- [ ] 使用缓存
- [ ] 设计⼀套热度算法，使得能让该用户常看的商品分类下的商品出现在首页
- [ ] 用户可以与客服进行聊天
- [ ] 部署到自己的服务器上，并且可以访问
- [ ] 考虑安全性（xxs，sql注入，csrf等）
- [ ] 你任何想加的功能

# 项目结构

123

#  状态码的定义

| 状态码 | HTTP状态码 |         描述          |                             原因                             |                           解决方案                           |
| :----: | :--------: | :-------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| 20000  |    200     |         成功          |                              -                               |                              -                               |
| 40001  |    401     |      用户名错误       |   登录时，传入的用户名参数错误，在数据库中找不到匹配的用户   |                       传入正确的用户名                       |
| 40002  |    401     |       密码错误        |     登录时，传入的密码参数错误，无法和数据库中现存的匹配     |                        传入正确的密码                        |
| 40003  |    400     |      用户名无效       |           注册时，传入的用户名在数据库中已经存在了           |                       传入唯一的用户名                       |
| 40004  |    400     |       缺少参数        |                传入的参数数量小于所要求的数量                |                         传入足够参数                         |
| 40005  |    400     |     参数类型错误      |           传入的参数类型错误，导致无法和结构体绑定           |                         传入正确参数                         |
| 40006  |    400     |       参数过长        |  传入的某个参数长度过于长（限制具体参数长度的事情交给前端）  |                      缩短过长参数的长度                      |
| 40007  |    400     |   用户名或密码错误    |                   传入的用户名或者密码错误                   |                    传入正确的用户名或密码                    |
| 40008  |    400     |       性别错误        |     传入的性别不属于（"male","female","other"）中的一种      |                        传入其中的一种                        |
| 40009  |    401     |       缺少token       |                    Header中未填写JWT key                     |                        在Header中填写                        |
| 40010  |    401     | jwt token签名方法无效 |                       JWT key格式错误                        |                     传入正确的JWT token                      |
| 40011  |    401     |       无效token       |                        JWT token无效                         |                     传入正确的JWT token                      |
| 40012  |    401     |       无效声明        |                     JWT token的声明无效                      |                     传入正确的JWT token                      |
| 40013  |    400     |   传入的用户id无效    |             在执行通过id查找用户信息时没找到用户             |                       传入正确的用户id                       |
| 40014  |    401     |       权限不够        |                    用户不是管理员或者店主                    |                 让管理员或者店主来执行此操作                 |
| 40015  |    404     |      分类不存在       |         在添加商品的时候，没有找到分类id所对应的分类         |                       传入正确的分类id                       |
| 40016  |    400     |   分类名称已经存在    |            在添加分类时，填写了一个重复的分类名称            |                传入不和现有分类重复的分类名称                |
| 40017  |    404     |      商品不存在       |              尝试通过ID找商品，但是不存在该商品              |                       传入存在商品的ID                       |
| 40018  |    404     |      找不到商品       |                  通过关键字搜索无法找到商品                  |                     传入存在商品的关键字                     |
| 40019  |    404     |     商品列表为空      |      在显示全部商品/显示某个分类的商品时，商品列表为空       |  前者，请先添加商品再进行其他操作；后者，请传入正确的分类id  |
| 40020  |    401     |   Refresh Token无效   | 在尝试通过刷新令牌接口刷新Access Token时，传入了无效的Refresh Token | 传入有效的Refresh Token。如果Refresh Token也过期了，就重新登录 |
| 40021  |    400     |  商品已经在购物车中   | 在尝试将一定数量的某商品加入购物车时，购物车里面已经有相同数量的同一个商品 |   如果是想更新数量，请传入数量不同的该商品；否则就换个商品   |
| 40022  |    400     |       数量太大        |    在尝试下单或者将商品加入购物车时，传入的数量超过了999     |                     请传入小于999的数量                      |
| 50000  |            |                       |                                                              |                                                              |

